Так как протокол в общем случае работает по протоколу UDP, становится невозможным узнать статус доставки того или иного пакета. Для этого существует механизм "Вопрос-Ответ", или подтверджение получения команды (acknowledgement).

Механизм подтверждения получения команд работает на основе уникального идентификатора команды - [[Command ID]]. Если посылаемая команда (структура) содержит в себе поле `cid`, подразумевается, что на нее можно получить ответ в виде структуры `core_ack_t`:
```c
#pragma pack(push, 1)
struct core_ack_t {
  uint64_t cid;
  int32_t result;
  uint8_t subsystem;
};
#pragma pack(pop)
```

#### Пример
В качестве примера рассмотрим код на C++, который посылает на борт команду `heli_setmode_t` и получает ответ.
// TODO
```cpp
void 

int main() {
  auto protocol = ruavp_protocol_t();
  ruavp_protocol_init(&protocol, CLASS_LAND | 4);
  
}

struct heli_setmode_t

{

  double latitude;

  double longitude;

  uint64_t cid;

  float altitude;

  float radius;

  uint32_t time;

  uint16_t index;

  uint16_t subindex;

  uint8_t action;

  uint8_t mode;

  uint8_t velocity;

};
```