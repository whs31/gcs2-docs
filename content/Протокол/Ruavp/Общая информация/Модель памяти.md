Протокол не использует динамическую аллокацию памяти. Все управление памятью находится исключительно под контролем пользователя.

Максимальный размер сериализованного пакета определяется константой `RUAVP_MAX_PACKET_LENGTH`.

##### Издержки при сериализации данных
- Структура `ruavp_protocol_t`
- Структура с данными, которые нужно сериализовать
- Массив байт, в который будет происходить запись сериализованной структуры.
> [!tip]
> Рекомендуется всегда использовать буфер размером `RUAVP_MAX_PACKET_LENGTH`.

##### Издержки при десериализации данных
- Структура `ruavp_protocol_t`
- Структура `ruavp_buffer_t`

Размер структуры `ruavp_buffer_t` зависит от размера максимального пакета, поддерживаемого протоколом. Например, если протокол поддерживает только одну структуру вида:
```c
struct example_t {
  uint16_t x;
  uint16_t y;
};
```
, причем опция [[Контроль потока данных]] - выключена, то максимальный размер пакета (`RUAVP_MAX_PACKET_LENGTH`) будет равен 14 байт, а размер структуры `ruavp_buffer_t` - 18 байт. 

Максимально возможный размер структуры `ruavp_buffer_t` - 260 байт.

Максимально возможное значение константы `RUAVP_MAX_PACKET_LENGTH` - 256 байт.

##### Размер структуры `ruavp_protocol_t`
Размер данной структуры определяется рядом факторов:
- Поддержка [[Контроль потока данных|контроля потока данных]]
- Поддержка декодирования данных
- Использование опции "один адрес отправки"

Например (для архитектуры x86_64, выравнивание не учитывается):

| [[Контроль потока данных]] | Декодирование | Кол-во устройств | Кол-во поддерживаемых структур | Размер структуры `ruavp_protocol_t` |
| -------------------------- | ------------- | ---------------- | ------------------------------ | ----------------------------------- |
| ✅                          | ✅             | 50               | 10                             | 1615 байт                           |
| ❌                          | ✅             | 50               | 10                             | 113 байт                            |
| ❌                          | ❌             | 50               | 10                             | 9 байт                              |
| ✅                          | ✅             | 5                | 1                              | 193 байта                           |
| ❌                          | ✅             | 5                | 1                              | 41 байт                             |
| ❌                          | ❌             | 5                | 1                              | 9 байт                              |
